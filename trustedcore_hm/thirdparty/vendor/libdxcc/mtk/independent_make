# "Root" Makefile for Host domain
# This makefile invokes the relevant target specific makefile to build it (e.g., cclib)
#
CUR_PATH := $(shell pwd)
PREBUILD_HEADER := $(CUR_PATH)/../../../prebuild/hm-teeos-local-release/headers/
HM_TOOLCHAIN_A32 := $(CUR_PATH)/../../../prebuild/toolchains/gcc-linaro-7.2.1-2017.11-x86_64_arm-eabi/bin/
PATH := $(HM_TOOLCHAIN_A32):$(PATH)
export PATH

ARCH := arm

INCDIRS_EXTRA:=	$(PREBUILD_HEADER)/kernel/uapi \
		$(PREBUILD_HEADER)/kernel/kirin \
		$(PREBUILD_HEADER)/kernel/arch/arm/uapi \
		$(CUR_PATH)/../../../tools \
		$(PREBUILD_HEADER)/hm_32 \
		$(PREBUILD_HEADER)/libc_32 \
		$(PREBUILD_HEADER)/libc_32/arch/$(ARCH) \
		$(PREBUILD_HEADER)/libc_32/arch/generic \
		$(PREBUILD_HEADER)/gen/arch/$(ARCH)

export INCDIRS_EXTRA

.PHONY: clean default
default:
	@$(MAKE) -C tzcc_fw/host/src/ ARCH=arm CROSS_COMPILE=arm-eabi-
	@cp -rf $(CUR_PATH)/tzcc_fw/host/lib/* $(CUR_PATH)/lib/
clean:
	@$(MAKE) -C tzcc_fw/host/src/ ARCH=arm CROSS_COMPILE=arm-eabi- clean

# "Root" Makefile for Host domain
# This makefile invokes the relevant target specific makefile to build it (e.g., cclib)
